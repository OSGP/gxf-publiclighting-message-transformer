# SPDX-FileCopyrightText: Copyright Contributors to the GXF project
#
# SPDX-License-Identifier: Apache-2.0

spring:
  application:
    name: gxf-publiclighting-message-transformer

  artemis:
    mode: native
    broker-url: tcp://localhost:61617?sslEnabled=true&keyStorePath=${spring.jms.broker.keyStorePath}&keyStorePassword=${spring.jms.broker.keyStorePassword}&trustStorePath=${spring.jms.broker.trustStorePath}&trustStorePassword=${spring.jms.broker.trustStorePassword}

    pool:
      enabled: true
      max-connections: 10

  jms:
    broker:
       keyStorePassword: ${JMS_KEY_STORE_PASSWORD}
       keyStorePath: ${JMS_KEY_STORE_PATH}
       trustStorePassword: ${JMS_TRUST_STORE_PASSWORD}
       trustStorePath: ${JMS_TRUST_STORE_PATH}
    listener:
      session:
        transacted: true

  main:
    web-application-type: none

management:
  endpoint:
    health:
      probes:
        enabled: true
  endpoints:
    web:
      exposure:
        include: health,prometheus
  server:
    port: 9404

# MODULE CONFIGURATIONS
device-events:
  enabled: true
  consumer:
    inbound-queue: gxf.publiclighting.device-events.inbound-protobuf
    min-concurrency: 2
    max-concurrency: 10
  producer:
    outbound-queue: gxf.publiclighting.device-events.outbound-objectmessage
    quality-of-service:
      explicit-qos-enabled: true
      delivery-persistent: true
      priority: 4
      time-to-live: 0

device-message-logs:
  enabled: true
  inbound-queue: gxf.publiclighting.device-message-logs.inbound-protobuf
  outbound-queue: gxf.publiclighting.device-message-logs.outbound-objectmessage

device-requests:
  enabled: true
  inbound-queue: gxf.publiclighting.device-requests.inbound-objectmessage
  outbound-queue: gxf.publiclighting.device-requests.outbound-protobuf

device-responses:
  enabled: true
  inbound-queue: gxf.publiclighting.device-responses.inbound-protobuf
  outbound-queue: gxf.publiclighting.device-responses.outbound-objectmessage
